const User=require("../models/user"),register=async(req,res,next)=>{const user=await User.create({...req.body}),token=user.createJWT();res.status(201).json({status:"success",message:"User Registered successfully",token:token,data:{id:user.id,firstname:user.firstname,lastname:user.lastname,email:user.email}}),res.status(201).json({user:{name:`${user.firstname} ${user.lastname}`},success:!0,toke:token})},login=async(req,res,next)=>{const{email:email,password:password}=req.body,user=await User.findOne({email:email}),token=user.createJWT();res.status(200).json({status:"Success",message:"User logged in successfully",token:token,data:{id:user.id,firstName:user.firstname,lastName:user.lastname,email:user.email}})};module.exports={register:register,login:login};